# npmRebuild: false を設定してpostinstallでのネイティブモジュールリビルドをスキップ
# 理由: tar>=7.5.4がESM-onlyになり、@electron/rebuildとの互換性がないため
# 参照: https://github.com/electron-userland/electron-builder/issues/9143
# 注意: このプロジェクトにはネイティブ依存がないため影響なし
npmRebuild: false

appId: com.povo-promo-code-notify
productName: povo プロモコード管理
copyright: Copyright © 2026

directories:
  buildResources: resources
  output: release

files:
  - '!**/.vscode/*'
  - '!src/*'
  - '!electron.vite.config.*'
  - '!{.eslintignore,.eslintrc.cjs,.prettierignore,.prettierrc,dev-app-update.yml,CHANGELOG.md,README.md}'
  - '!{tsconfig.json,tsconfig.node.json,tsconfig.web.json}'

asarUnpack:
  - resources/**

win:
  executableName: povo-promo-code-notify
  target:
    - target: nsis
      arch:
        - x64

nsis:
  artifactName: ${name}-${version}-setup.${ext}
  shortcutName: ${productName}
  uninstallDisplayName: ${productName}
  createDesktopShortcut: always

electronDownload:
  mirror: https://npmmirror.com/mirrors/electron/
