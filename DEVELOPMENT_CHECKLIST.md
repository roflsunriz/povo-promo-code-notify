# povo-promo-code-notify 開発チェックリスト

## 技術スタック

| カテゴリ | 技術 | バージョン |
|---------|------|-----------|
| フレームワーク | Electron | 35.x |
| UI | React | 19.x |
| 言語 | TypeScript | 5.x |
| スタイリング | TailwindCSS | 4.x |
| ビルド | electron-vite | latest |
| バリデーション | Zod | 3.x |
| 永続化 | electron-store | latest |
| テスト | Vitest + Playwright | latest |
| パッケージ管理 | pnpm | latest |

---

## Phase 1: プロジェクト基盤構築

- [x] 1.1 pnpmでelectron-viteプロジェクト初期化（React + TypeScript）
- [x] 1.2 package.jsonにengines設定追加（Node.js LTS指定）
- [x] 1.3 tsconfig.jsonをstrict強化（ユーザールール準拠）
- [x] 1.4 ESLint 9設定（TypeScript強化ルール）
- [x] 1.5 Prettier設定
- [x] 1.6 TailwindCSS導入（ダークテーマ対応）
- [x] 1.7 src/types/ディレクトリ作成（型定義集約）
- [x] 1.8 GitHub Actions CI設定（lint → type-check → test → build）
- [x] 1.9 README.md作成（環境構築・起動・テスト・ビルド手順）
- [x] 1.10 .editorconfig / .gitattributes設定（LF、UTF-8）
- [x] 1.11 lint / type-check / build 通過確認

---

## Phase 2: データモデルとストレージ

- [x] 2.1 コードエンティティ型定義（src/types/）
- [x] 2.2 Zodスキーマ定義（ランタイム検証）
- [x] 2.3 状態判定ロジック実装（未使用/使用中/消費済み/期限切れ）
- [x] 2.4 連続カバレッジ計算ロジック実装
- [x] 2.5 次に開始すべきコード候補ロジック実装
- [x] 2.6 永続化層実装（electron-store）
- [x] 2.7 単体テスト作成（状態判定・カバレッジ計算）

---

## Phase 3: UI実装

- [x] 3.1 タブ構成コンポーネント作成
- [x] 3.2 概略タブ実装
  - [x] 連続カバレッジ終端・残り時間表示
  - [x] 次に開始すべきコード候補表示
  - [x] 使用中コード要約表示
  - [x] 60秒自動更新
- [x] 3.3 コード一覧タブ実装
  - [x] 全コード一覧表示
  - [x] コードマスク表示（トグル）
  - [x] 状態フィルター
  - [x] 入力期限フィルター
  - [x] 並び順切り替え
- [x] 3.4 登録タブ実装
  - [x] メール本文貼り付け・抽出
  - [x] コード/入力期限/有効期間パース
  - [x] プレビュー表示
  - [x] 手入力登録
  - [x] 順序並べ替え
- [x] 3.5 編集取り消しタブ実装
  - [x] コード選択UI
  - [x] 使用開始操作
  - [x] 使用開始日時編集
  - [x] 取り消し操作（確認付き）
- [x] 3.6 通知タブ実装
  - [x] 利用終了通知閾値設定
  - [x] 公式入力期限通知閾値設定
  - [x] テスト通知ボタン

---

## Phase 4: 通知機能

- [ ] 4.1 Electron Notification API連携
- [ ] 4.2 通知スケジューラー実装
- [ ] 4.3 利用終了通知（24h/3h/1h/30m前）
- [ ] 4.4 公式入力期限通知（オプション）
- [ ] 4.5 通知再計算トリガー実装
- [ ] 4.6 通知テスト

---

## Phase 5: エクスポート/インポート

- [ ] 5.1 JSONエクスポート実装（バージョン番号付き）
- [ ] 5.2 JSONインポート実装（Zod検証）
- [ ] 5.3 インポート前自動バックアップ
- [ ] 5.4 エクスポート/インポートテスト

---

## Phase 6: 最終調整・受け入れテスト

- [ ] 6.1 E2Eテスト作成（Playwright）
- [ ] 6.2 受け入れ条件チェック（要件定義書第十九章）
- [ ] 6.3 カバレッジ確認（90%以上目標）
- [ ] 6.4 パフォーマンス確認
- [ ] 6.5 アクセシビリティ確認
- [ ] 6.6 最終ビルド・動作確認

---

## 完了記録

| Phase | 完了日 | 備考 |
|-------|--------|------|
| 1 | 2026-01-22 | プロジェクト基盤構築完了 |
| 2 | 2026-01-22 | データモデル・ストレージ層完了、71テスト全通過 |
| 3 | 2026-01-22 | UI実装完了（5タブ構成、IPC通信、共通コンポーネント） |
| 4 | - | |
| 5 | - | |
| 6 | - | |

---

## メモ・課題

（開発中に気づいた点や課題を記録）

